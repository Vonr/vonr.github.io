import{w as c,d as v}from"./5-mtRrsR.js";import{l as h,w as g,j as S}from"./DC1HZKNt.js";import{i as b}from"./xDqcyvOm.js";import{r as $,e as _,a8 as T,p as x,b as y,ax as E}from"./firlPQZl.js";import{s as L,b as m,a as Y}from"./C-p-ASUW.js";function I(o,r,i=r){var n=o==="x",a=()=>g(()=>{t=!0,clearTimeout(l),l=setTimeout(d,100),i(window[n?"scrollX":"scrollY"])});addEventListener("scroll",a,{passive:!0});var t=!1,l,d=()=>{t=!1},u=!0;$(()=>{var e=r();u?u=!1:!t&&e!=null&&(t=!0,clearTimeout(l),scrollTo(window.scrollX,e),l=setTimeout(d,100))}),_(a),T(()=>{removeEventListener("scroll",a)})}function f(o,r){h(window,["resize"],()=>g(()=>r(window[o])))}const A=c("light"),J=c(900),p=c(900),N=c(900),M=v([p,N],([o,r])=>o<r),w=c(0),O=c({x:0,y:0}),X=o=>{O.update(()=>({x:o.clientX,y:o.clientY}))};function q(o,r){x(r,!1);const[i,n]=L(),a=()=>Y(w,"$scrollY",i);b(),S("mousemove",E,t=>X(t)),f("innerHeight",t=>m(J,t)),f("innerWidth",t=>m(p,t)),I("y",a,t=>m(w,t)),y(),n()}const z=(o,r)=>{const i=typeof globalThis.window<"u";let n=r;const{set:a,...t}=c(r,()=>{if(i){d();const e=s=>{s.key===o&&d()};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}else return()=>{}}),l=e=>{n=e,a(e);try{localStorage.setItem(o,JSON.stringify(e))}catch(s){console.error(`the \`${o}\` store's new value \`${e}\` could not be persisted to localStorage because of ${s}`)}},d=()=>{let e=null;try{e=localStorage.getItem(o)}catch(s){console.error(`the \`${o}\` store's value could not be restored from localStorage because of ${s}`)}if(e===null)l(r);else try{const s=JSON.parse(e);a(s),n=s}catch(s){console.error(`localStorage's value for \`${o}\` (\`${e}\`) could not be parsed as JSON because of ${s}`)}};return{...t,set:l,update:e=>{l(e(n))}}},D=typeof window<"u"&&globalThis.localStorage&&"theme"in localStorage?localStorage.getItem("theme"):"dark";z("theme",D);export{q as D,N as a,M as m,A as t};
