import{w as u,d as v}from"./index.e4b0153f.js";import{s as y,k as _,n as m,r as T,c as g}from"./scheduler.6c817c6f.js";import{S as $,i as O,z as w}from"./index.5c4c8a2d.js";const F=u("light"),M=u(null);function Y(e){let t=!1,c=()=>{t=!1},s,a,i;return _(e[4]),_(e[5]),{c:m,l:m,m(n,l){a||(i=[w(window,"mousemove",e[3]),w(window,"resize",e[4]),w(window,"scroll",()=>{t=!0,clearTimeout(s),s=setTimeout(c,100),e[5]()})],a=!0)},p(n,[l]){l&4&&!t&&(t=!0,clearTimeout(s),scrollTo(window.pageXOffset,n[2]),s=setTimeout(c,100))},i:m,o:m,d(n){a=!1,T(i)}}}const h=u(900),p=u(900),H=u(900),V=v([p,H],([e,t])=>e<t),b=u(0),W=u({x:0,y:0}),z=e=>{W.update(()=>({x:e.clientX,y:e.clientY}))};function E(e,t,c){let s,a=m,i,n=m,l,f=m;g(e,h,d=>c(0,s=d)),g(e,p,d=>c(1,i=d)),g(e,b,d=>c(2,l=d)),e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>n()),e.$$.on_destroy.push(()=>f());const o=d=>z(d);function r(){h.set(s=window.innerHeight),p.set(i=window.innerWidth)}function S(){b.set(l=window.pageYOffset)}return[s,i,l,o,r,S]}class X extends ${constructor(t){super(),O(this,t,E,Y,y,{})}}const I=(e,t)=>{const c=typeof globalThis.window<"u";let s=t;const{set:a,...i}=u(t,()=>{if(c){l();const o=r=>{r.key===e&&l()};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)}else return()=>{}}),n=o=>{s=o,a(o);try{localStorage.setItem(e,JSON.stringify(o))}catch(r){console.error(`the \`${e}\` store's new value \`${o}\` could not be persisted to localStorage because of ${r}`)}},l=()=>{let o=null;try{o=localStorage.getItem(e)}catch(r){console.error(`the \`${e}\` store's value could not be restored from localStorage because of ${r}`)}if(o===null)n(t);else try{const r=JSON.parse(o);a(r),s=r}catch(r){console.error(`localStorage's value for \`${e}\` (\`${o}\`) could not be parsed as JSON because of ${r}`)}};return{...i,set:n,update:o=>{n(o(s))}}};const J=typeof window<"u"&&globalThis.localStorage&&"theme"in localStorage?localStorage.getItem("theme"):"dark";I("theme",J);export{X as D,M as a,V as m,F as t};
