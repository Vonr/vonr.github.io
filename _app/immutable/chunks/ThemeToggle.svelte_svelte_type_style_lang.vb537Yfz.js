import{w as m,d as $}from"./entry.CsIlpnd1.js";import{s as T,k as h,n as d,r as v,c as w}from"./scheduler.BfKkd2ys.js";import{S as y,i as O,B as g}from"./index.C34Kbxwq.js";const F=m("light");function Y(e){let t=!1,c=()=>{t=!1},r,a,i;return h(e[4]),h(e[5]),{c:d,l:d,m(n,l){a||(i=[g(window,"mousemove",e[3]),g(window,"resize",e[4]),g(window,"scroll",()=>{t=!0,clearTimeout(r),r=setTimeout(c,100),e[5]()})],a=!0)},p(n,[l]){l&4&&!t&&(t=!0,clearTimeout(r),scrollTo(window.pageXOffset,n[2]),r=setTimeout(c,100))},i:d,o:d,d(n){a=!1,v(i)}}}const b=m(900),p=m(900),H=m(900),V=$([p,H],([e,t])=>e<t),S=m(0),W=m({x:0,y:0}),E=e=>{W.update(()=>({x:e.clientX,y:e.clientY}))};function I(e,t,c){let r,a=d,i,n=d,l,f=d;w(e,b,u=>c(0,r=u)),w(e,p,u=>c(1,i=u)),w(e,S,u=>c(2,l=u)),e.$$.on_destroy.push(()=>a()),e.$$.on_destroy.push(()=>n()),e.$$.on_destroy.push(()=>f());const o=u=>E(u);function s(){b.set(r=window.innerHeight),p.set(i=window.innerWidth)}function _(){S.set(l=window.pageYOffset)}return[r,i,l,o,s,_]}class X extends y{constructor(t){super(),O(this,t,I,Y,T,{})}}const J=(e,t)=>{const c=typeof globalThis.window<"u";let r=t;const{set:a,...i}=m(t,()=>{if(c){l();const o=s=>{s.key===e&&l()};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)}else return()=>{}}),n=o=>{r=o,a(o);try{localStorage.setItem(e,JSON.stringify(o))}catch(s){console.error(`the \`${e}\` store's new value \`${o}\` could not be persisted to localStorage because of ${s}`)}},l=()=>{let o=null;try{o=localStorage.getItem(e)}catch(s){console.error(`the \`${e}\` store's value could not be restored from localStorage because of ${s}`)}if(o===null)n(t);else try{const s=JSON.parse(o);a(s),r=s}catch(s){console.error(`localStorage's value for \`${e}\` (\`${o}\`) could not be parsed as JSON because of ${s}`)}};return{...i,set:n,update:o=>{n(o(r))}}},L=typeof window<"u"&&globalThis.localStorage&&"theme"in localStorage?localStorage.getItem("theme"):"dark";J("theme",L);export{X as D,V as a,H as m,F as t};
