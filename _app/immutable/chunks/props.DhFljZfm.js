import{i as C,j as q,L as F,P as N,k as x,g as l,d as y,u as A,B as U,R as Y,l as D,m as z,o as M,v as $,w as T,x as j,y as G,D as H,z as g,A as V,C as Z}from"./runtime.CiCsa9IZ.js";import{p as J}from"./if.BJXTwcxa.js";import{c as K}from"./store.BLfhTkBW.js";function L(a){for(var r=g,t=g;r!==null&&!(r.f&(U|Y));)r=r.parent;try{return D(r),a()}finally{D(t)}}function k(a,r,t,d){var h;var R=(t&z)!==0,c=(t&M)!==0,S=(t&$)!==0,w=(t&V)!==0,I=!1,u;S?[u,I]=K(()=>a[r]):u=a[r];var s=(h=C(a,r))==null?void 0:h.set,n=d,o=!0,P=!1,p=()=>(P=!0,o&&(o=!1,w?n=A(d):n=d),n);u===void 0&&d!==void 0&&(s&&c&&q(),u=p(),s&&s(u));var i;if(c)i=()=>{var e=a[r];return e===void 0?p():(o=!0,P=!1,e)};else{var O=L(()=>(R?T:j)(()=>a[r]));O.f|=F,i=()=>{var e=l(O);return e!==void 0&&(n=void 0),e===void 0?n:e}}if(!(t&N))return i;if(s){var B=a.$$legacy;return function(e,f){return arguments.length>0?((!c||!f||B||I)&&s(f?i():e),e):i()}}var m=!1,b=!1,E=Z(u),_=L(()=>T(()=>{var e=i(),f=l(E),v=G;return m||e===void 0&&v.f&H?(m=!1,b=!0,f):(b=!1,E.v=e)}));return R||(_.equals=x),function(e,f){if(arguments.length>0){const v=f?l(_):c&&S?J(e):e;return _.equals(v)||(m=!0,y(E,v),P&&n!==void 0&&(n=v),A(()=>l(_))),e}return l(_)}}export{k as p};
