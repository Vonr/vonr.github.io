import{R as y,a7 as D,g as f,a8 as B,a9 as M,d as N,aa as Y,ab as $,ac as w,ad as C,ae as G,Z,u as T,af as j,ag as z,ah as V,ai as F,S as H,aj as J,ak as h,P as K,al as Q}from"./BPxrqMEp.js";import{s as W,g as X}from"./0Hw5SMD3.js";let b=!1,R=Symbol();function ae(e,r,u){const n=u[r]??(u[r]={store:null,source:y(void 0),unsubscribe:D});if(n.store!==e&&!(R in u))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=D;else{var c=!0;n.unsubscribe=W(e,t=>{c?n.source.v=t:N(n.source,t)}),c=!1}return e&&R in u?X(e):f(n.source)}function ne(e,r){return e.set(r),r}function ue(){const e={};function r(){B(()=>{for(var u in e)e[u].unsubscribe();M(e,R,{enumerable:!1,value:!0})})}return[e,r]}function k(e){var r=b;try{return b=!1,[e(),b]}finally{b=r}}function p(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function ie(e,r,u,n){var L;var c=(u&j)!==0,t=!z||(u&V)!==0,o=(u&F)!==0,U=(u&Q)!==0,m=!1,_;o?[_,m]=k(()=>e[r]):_=e[r];var q=H in e||J in e,v=o&&(((L=Y(e,r))==null?void 0:L.set)??(q&&r in e&&(a=>e[r]=a)))||void 0,s=n,S=!0,P=!1,O=()=>(P=!0,S&&(S=!1,U?s=T(n):s=n),s);_===void 0&&n!==void 0&&(v&&t&&$(),_=O(),v&&v(_));var l;if(t)l=()=>{var a=e[r];return a===void 0?O():(S=!0,P=!1,a)};else{var A=(c?h:K)(()=>e[r]);A.f|=w,l=()=>{var a=f(A);return a!==void 0&&(s=void 0),a===void 0?s:a}}if(!(u&C))return l;if(v){var x=e.$$legacy;return function(a,d){return arguments.length>0?((!t||!d||x||m)&&v(d?l():a),a):l()}}var g=!1,I=y(_),i=h(()=>{var a=l(),d=f(I);return g?(g=!1,d):I.v=a});return o&&f(i),c||(i.equals=G),function(a,d){if(arguments.length>0){const E=d?f(i):t&&o?Z(a):a;if(!i.equals(E)){if(g=!0,N(I,E),P&&s!==void 0&&(s=E),p(i))return a;T(()=>f(i))}return a}return p(i)?i.v:f(i)}}export{ae as a,ne as b,ie as p,ue as s};
